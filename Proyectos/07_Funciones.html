<!DOCTYPE html>
<html lang="es">

<head>
    <!--SECTION Aclaraciones sobre etiquetas HEAD -->
    <meta name="author" content="Emilio Luis Pareja Hinojosa">
    <!--Define quien es el autor de la pagina-->
    <meta charset="UTF-8">
    <!--Se encarga de proporcionar el codigo de caracteres a seguir-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Permite que la pagina se escale automaticamente aunque no sea responsive independientemente del dispositivo-->
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!--Permite que la pagina se vea bien en versiones antiguas de edge-->
    <meta name="keywords" content="clave">
    <!--Define las palabras clave que utilizara el navegador para encontrar la pagina-->
    <meta name="description" content="Pagina Web de ejemplo">
    <!--Proporciona una descripcion a la pagina que ayuda al navegador a encontrarla-->
    <!--<meta http-equiv="refresh" content="3">-->
    <!--Permite refrescar la pagina cada 3 segundos-->
    <!--<link rel="stylesheet" href="rutaCSS">-->
    <title>03 Variables</title>
    <!--!SECTION -->
</head>

<body>

    <script>
        //Se llama a la funcion mapa
        this.mapa(3, 5, 2);
        //Se llama a la funcion mapa2 con un objeto
        this.mapa2({
            x: 20,
            y: 30,
            z: 10,
            otro: 33
        });

        //Muestra las coordenadas que se le pasen a la funcion
        function mapa(x, y, z) {
            console.log(x, y, z);
        }

        // Hace lo mismo que mapa pero sobre un objeto, esto nos permite pasarle un array de una longitud no definida.
        function mapa2(obj) {
            for (let key in obj) {
                console.log(obj[key]);
            }
        }

        //Un estilo de funcion dentro de un metodo//
        //Con la funcion map recorremos cada una de las posiciones de un array//
        let multipliedBy3 = [1, 2, 3].map(function (el) {
            return el * 3;
        });

        console.log(multipliedBy3);

        //Uso de funciones arrow, es la misma que la anterior
        let multipliedBy3Arrow = [1, 2, 3].map((el) => el * 3);

        console.log(multipliedBy3Arrow);

        //Realiza un filtrado del array y devuelve unicamente un array con los valores que son mayores a 50
        //Con filter retornamos un array con los valores que cumplan una determinada condicion
        console.log([23, 76, 66, 1, 3, 89].filter((el) => el > 50));

        //Con esta sentencia devolvemos el mismo array con cada elemento multiplicado por 2 pero ademas casteado a Object
        console.log([23, 76, 66, 1, 3, 89].map((el) => ({
            elemento: el * 2
        })));

        //Con esta sentencia conseguimos filtrar el array para devolver un array con los valores mayores a 30
        //Posteriormente estos valores los multiplicamos por 2 con la funcion map
        console.log([13, 21, 33, 45, 1, 23, 46, 77, 78, 99, 64].filter((el) => el > 30).map((el) => el * 2));


        //USO DE FUNCTION EXPRESSIONS

        var descuentos = {
            novice: 0.4,
            pro: 0.2
        };

        var discounter = function (ClienType, tariff) {
            return this[ClienType] * tariff;
        }

        //Pasamos todos los argumentos en orden
        console.log(discounter.call(descuentos, "novice", 100));
        console.log(discounter.call(descuentos, "pro", 100));

        //Otra manera, utilizando el metodo apply, pasando los argumentos como un array
        console.log(discounter.apply(descuentos, ["novice", 100]));

        //Con el metodo bind ligamos el array descuentos a la funcion discounter y asi podemos llamar a la funcion sin especificar el array como en las anteriores
        var discounterByProfile = discounter.bind(descuentos);
        console.log(discounterByProfile("novice", 100));
        
    </script>


</body>

</html>